<h2 mat-dialog-title>Add Plot Item</h2>

<mat-dialog-content class="mat-typography">
  <div class="modal-body">
    <form [formGroup]="form">
      <mat-form-field>
        <mat-label>{{ 'COMMON.FIELDS.NAME' | translate }}</mat-label>

        <input matInput formControlName="name" placeholder="{{ 'COMMON.FIELDS.NAME_PLACEHOLDER' | translate }}">

        <mat-error class="form-text text-danger" *ngIf="form.get('name').invalid && form.get('name').touched">
          <span *ngIf="form.get('name').errors.required">{{ 'ERRORS.FIELDS.REQUIRED' | translate }}</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{ 'COMMON.FIELDS.DESCRIPTION' | translate }}</mat-label>

        <textarea matInput formControlName="description" cols="10" charswidth="25" placeholder="{{ 'COMMON.FIELDS.DESCRIPTION_PLACEHOLDER' | translate }}"></textarea>

        <mat-error class="form-text text-danger" *ngIf="form.get('description').invalid && form.get('description').touched">
          <span *ngIf="form.get('description').errors.required">{{ 'ERRORS.FIELDS.REQUIRED' | translate }}</span>
        </mat-error>
      </mat-form-field>

<!--      <mat-form-field>-->
<!--        <mat-label>{{ 'COMMON.FIELDS.VALUE' | translate }}</mat-label>-->

<!--        <input matInput formControlName="value" placeholder="{{ 'COMMON.FIELDS.VALUE_PLACEHOLDER' | translate }}">-->

<!--        <mat-error class="form-text text-danger" *ngIf="form.get('value').invalid && form.get('value').touched">-->
<!--          <span *ngIf="form.get('value').errors.required">{{ 'ERRORS.FIELDS.REQUIRED' | translate }}</span>-->
<!--          <span *ngIf="form.get('value').errors.pattern">{{ 'ERRORS.FIELDS.PATTERN_NUMBER' | translate }}</span>-->
<!--        </mat-error>-->
<!--      </mat-form-field>-->

      <div class="color-picker-wrapper">
        <mat-label>Node Color</mat-label>

        <!--[value]="form.value.color"-->
        <input
          class="color-picker-input"

          [(colorPicker)]="form.value.color"

          [cpWidth]="230"
          [cpHeight]="'auto'"

          [cpToggle]="false"
          [cpDisabled]="false"

          [cpColorMode]="cpColorMode"

          [cpCmykEnabled]="false"

          [cpOutputFormat]="cpOutputFormat"
          [cpAlphaChannel]="cpAlphaChannel"

          [cpFallbackColor]="'#fff'"

          [cpPosition]="cpPosition"

          [cpPositionOffset]="'0%'"
          [cpPositionRelativeToArrow]="false"

          [cpPresetLabel]="'Preset colors'"
          [cpPresetColors]="['#fff', '#000', '#2889e9', '#e920e9', '#fff500', 'rgb(236,64,64)']"

          [cpDisableInput]="false"

          [cpDialogDisplay]="cpDialogDisplay"

          [cpSaveClickOutside]="true"
          [cpCloseClickOutside]="true"

          [cpOKButton]="true"
          [cpOKButtonText]="'Select'"
          [cpOKButtonClass]="'color-picker-button-ok'"

          [cpCancelButton]="true"
          [cpCancelButtonText]="'Cancel'"
          [cpCancelButtonClass]="'color-picker-button-cancel'"

          [cpAddColorButton]="false"
          [cpAddColorButtonText]="'Add color'"
          [cpAddColorButtonClass]="'color-picker-button-add'"

          [cpRemoveColorButtonClass]="'color-picker-button-remove'"

          [cpPresetColorsClass]="'color-picker-present-color-container'"

          [cpMaxPresetColorsLength]="null"

          [cpPresetEmptyMessage]="'No colors added'"
          [cpPresetEmptyMessageClass]="'color-picker-empty-message-container'"

          [cpUseRootViewContainer]="false"

          (colorPickerOpen)="colorPickerOpen($event)"
          (colorPickerClose)="colorPickerClose($event)"

          (colorPickerChange)="colorPickerChange($event)"
          (colorPickerCancel)="colorPickerCancel()"
          (colorPickerSelect)="colorPickerSelect($event)"

          (cpToggleChange)="cpToggleChange($event)"

          (cpInputChange)="cpInputChange($event)"

          (cpSliderChange)="cpSliderChange($event)"

          (cpSliderDragStart)="cpSliderDragStart($event)"

          (cpSliderDragEnd)="cpSliderDragEnd($event)"

          (cpCmykColorChange)="cpCmykColorChange($event)"

          (cpPresetColorsChange)="cpPresetColorsChange($event)"

          [style.background]="form.value.color"
        />
      </div>
    </form>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close cdkFocusInitial>Cancel</button>
  <button mat-button [mat-dialog-close]="getResult()" [disabled]="form.invalid">{{ 'BUTTONS.COMMON.SAVE' | translate }}</button>
</mat-dialog-actions>
